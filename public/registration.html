<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration - ICISE 2025</title>
    <meta name="description" content="Register for the Bacterial Pathogens and Host Cell Interactions conference">
    
    <!-- CSS Libraries -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link href="/css/style.css" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
        <div class="container">
            <a class="navbar-brand fw-bold" href="/">
                <i class="fas fa-microscope me-2"></i>
                ICISE 2025
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="/committee.html">Committee</a></li>
                    <li class="nav-item"><a class="nav-link" href="/speakers.html">Speakers</a></li>
                    <li class="nav-item"><a class="nav-link" href="/program.html">Program</a></li>
                    <li class="nav-item"><a class="nav-link" href="/venue.html">Venue</a></li>
                    <li class="nav-item"><a class="nav-link active" href="/registration.html">Registration</a></li>
                    <li class="nav-item"><a class="nav-link" href="/contact.html">Contact</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <div class="page-header">
        <div class="container">
            <h1><i class="fas fa-user-plus me-3"></i>Conference Registration</h1>
            <p>Join us for this exciting conference on bacterial pathogens and host cell interactions</p>
        </div>
    </div>

    <!-- Registration Information -->
    <section class="content-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <h2 class="section-title text-center mb-5">Registration Information</h2>
                    <div class="row g-4 mb-5">
                        <div class="col-md-6">
                            <div class="info-card">
                                <h4><i class="fas fa-calendar-alt me-2"></i>Important Dates</h4>
                                <ul>
                                    <li><strong>Registration Opens:</strong> May 5, 2025</li>
                                    <li><strong>Early Bird Deadline:</strong> July 30, 2025</li>
                                    <li><strong>Abstract Deadline:</strong> July 30, 2025</li>
                                    <li><strong>Regular Registration:</strong> Until September 15, 2025</li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="info-card">
                                <h4><i class="fas fa-dollar-sign me-2"></i>Registration Fees</h4>
                                <ul>
                                    <li><strong>Regular (Early Bird):</strong> $400 / $500</li>
                                    <li><strong>Student (Early Bird):</strong> $200 / $250</li>
                                    <li><strong>Postdoc (Early Bird):</strong> $300 / $400</li>
                                    <li><strong>Industry (Early Bird):</strong> $600 / $750</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Registration Form -->
    <section class="content-section">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <h2 class="section-title text-center mb-5">Registration Form</h2>
                    <div class="registration-form-container">
                        <form id="registrationForm">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="firstName" class="form-label">First Name *</label>
                                    <input type="text" class="form-control" id="firstName" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="lastName" class="form-label">Last Name *</label>
                                    <input type="text" class="form-control" id="lastName" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="email" class="form-label">Email Address *</label>
                                    <input type="email" class="form-control" id="email" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="phone" class="form-label">Phone Number</label>
                                    <input type="tel" class="form-control" id="phone">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="affiliation" class="form-label">Institution/Affiliation *</label>
                                    <input type="text" class="form-control" id="affiliation" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="position" class="form-label">Position/Title</label>
                                    <input type="text" class="form-control" id="position">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="country" class="form-label">Country *</label>
                                    <input type="text" class="form-control" id="country" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="registrationType" class="form-label">Registration Type *</label>
                                    <select class="form-select" id="registrationType" required>
                                        <option value="">Select Registration Type</option>
                                        <option value="regular">Regular</option>
                                        <option value="student">Student</option>
                                        <option value="postdoc">Postdoc</option>
                                        <option value="faculty">Faculty</option>
                                        <option value="industry">Industry</option>
                                    </select>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="dietary" class="form-label">Dietary Requirements</label>
                                    <select class="form-select" id="dietary">
                                        <option value="none">None</option>
                                        <option value="vegetarian">Vegetarian</option>
                                        <option value="vegan">Vegan</option>
                                        <option value="halal">Halal</option>
                                        <option value="kosher">Kosher</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="dietaryOther" class="form-label">Other Dietary Requirements</label>
                                    <input type="text" class="form-control" id="dietaryOther" placeholder="Please specify if 'Other' selected">
                                </div>
                                
                                <div class="col-12 mb-4">
                                    <div class="form-check-group">
                                        <div class="form-check mb-3">
                                            <input class="form-check-input" type="checkbox" id="accommodation">
                                            <label class="form-check-label" for="accommodation">
                                                <strong>I need accommodation assistance</strong>
                                                <small class="d-block text-muted">We can help arrange accommodation at ICISE guest house or nearby hotels</small>
                                            </label>
                                        </div>
                                        <div class="form-check mb-3">
                                            <input class="form-check-input" type="checkbox" id="abstractSubmission">
                                            <label class="form-check-label" for="abstractSubmission">
                                                <strong>I want to submit an abstract for presentation</strong>
                                                <small class="d-block text-muted">Submit an abstract for poster presentation or oral contribution</small>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                
                                <div id="abstractFields" style="display: none;">
                                    <div class="col-12 mb-3">
                                        <label for="abstractTitle" class="form-label">Abstract Title *</label>
                                        <input type="text" class="form-control" id="abstractTitle" placeholder="Enter your abstract title">
                                    </div>
                                    <div class="col-12 mb-3">
                                        <label for="abstractContent" class="form-label">Abstract Content *</label>
                                        <textarea class="form-control" id="abstractContent" rows="6" 
                                                  placeholder="Enter your abstract (max 500 words)"></textarea>
                                        <div class="form-text">
                                            Please include: Background, Methods, Results, and Conclusions
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="col-12 mb-4">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="newsletter">
                                        <label class="form-check-label" for="newsletter">
                                            I would like to receive updates about future ICISE conferences
                                        </label>
                                    </div>
                                </div>
                                
                                <div class="col-12 mb-4">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="terms" required>
                                        <label class="form-check-label" for="terms">
                                            I agree to the <a href="#" class="text-primary">terms and conditions</a> and 
                                            <a href="#" class="text-primary">privacy policy</a> *
                                        </label>
                                    </div>
                                </div>
                                
                                <div class="col-12 text-center">
                                    <button type="submit" class="btn btn-primary btn-lg px-5">
                                        <i class="fas fa-paper-plane me-2"></i>
                                        Submit Registration
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- What's Included -->
    <section class="content-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 mx-auto">
                    <h2 class="section-title text-center mb-5">What's Included</h2>
                    <div class="row g-4">
                        <div class="col-md-6">
                            <div class="included-item">
                                <i class="fas fa-check-circle text-success me-3"></i>
                                <div>
                                    <h5>Conference Sessions</h5>
                                    <p>Access to all plenary sessions, poster presentations, and workshops</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="included-item">
                                <i class="fas fa-check-circle text-success me-3"></i>
                                <div>
                                    <h5>Meals & Refreshments</h5>
                                    <p>Welcome reception, daily lunch, coffee breaks, and conference banquet</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="included-item">
                                <i class="fas fa-check-circle text-success me-3"></i>
                                <div>
                                    <h5>Conference Materials</h5>
                                    <p>Program booklet, name badge, conference bag, and certificate</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="included-item">
                                <i class="fas fa-check-circle text-success me-3"></i>
                                <div>
                                    <h5>Cultural Excursion</h5>
                                    <p>Guided tour of Quy Nhon's cultural sites and beautiful beaches</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="included-item">
                                <i class="fas fa-check-circle text-success me-3"></i>
                                <div>
                                    <h5>Networking Opportunities</h5>
                                    <p>Organized networking sessions and informal discussion forums</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="included-item">
                                <i class="fas fa-check-circle text-success me-3"></i>
                                <div>
                                    <h5>Digital Access</h5>
                                    <p>Conference proceedings and presentation slides (where permitted)</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Success Modal -->
    <div class="modal fade" id="successModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title">Registration Successful!</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body text-center">
                    <i class="fas fa-check-circle text-success" style="font-size: 3rem;"></i>
                    <h4 class="mt-3">Thank You!</h4>
                    <p>Your registration has been submitted successfully. You will receive a confirmation email shortly with payment instructions and further details.</p>
                    <p class="text-muted">
                        <strong>Registration ID:</strong> <span id="registrationId"></span>
                    </p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-light py-4">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <p class="mb-0">&copy; 2025 ICISE. All rights reserved.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p class="mb-0">Bacterial Pathogens and Host Cell Interactions Conference</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script src="/js/main.js"></script>
    
    <style>
    .info-card {
        background: white;
        padding: 2rem;
        border-radius: 15px;
        box-shadow: 0 5px 15px rgba(15, 43, 76, 0.1);
        height: 100%;
    }
    
    .info-card h4 {
        color: var(--title-color);
        border-bottom: 2px solid var(--gradient-center);
        padding-bottom: 0.5rem;
        margin-bottom: 1rem;
    }
    
    .registration-form-container {
        background: white;
        padding: 3rem;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(15, 43, 76, 0.1);
    }
    
    .form-check-group {
        background: rgba(189, 228, 225, 0.1);
        padding: 1.5rem;
        border-radius: 10px;
        border-left: 4px solid var(--gradient-center);
    }
    
    .included-item {
        display: flex;
        align-items: flex-start;
        margin-bottom: 1rem;
    }
    
    .included-item h5 {
        color: var(--title-color);
        margin-bottom: 0.5rem;
    }
    
    .included-item i {
        font-size: 1.2rem;
        margin-top: 0.2rem;
        flex-shrink: 0;
    }
    </style>
    
    <script>
    // Abstract submission toggle
    document.getElementById('abstractSubmission').addEventListener('change', function() {
        const abstractFields = document.getElementById('abstractFields');
        const abstractTitle = document.getElementById('abstractTitle');
        const abstractContent = document.getElementById('abstractContent');
        
        if (this.checked) {
            abstractFields.style.display = 'block';
            abstractTitle.required = true;
            abstractContent.required = true;
        } else {
            abstractFields.style.display = 'none';
            abstractTitle.required = false;
            abstractContent.required = false;
        }
    });

    // Form submission
    document.getElementById('registrationForm').addEventListener('submit', async function(e) {
        e.preventDefault();
        
        // Get form data
        const formData = {
            firstName: document.getElementById('firstName').value,
            lastName: document.getElementById('lastName').value,
            email: document.getElementById('email').value,
            phone: document.getElementById('phone').value,
            affiliation: document.getElementById('affiliation').value,
            position: document.getElementById('position').value,
            country: document.getElementById('country').value,
            registrationType: document.getElementById('registrationType').value,
            dietary: document.getElementById('dietary').value,
            dietaryOther: document.getElementById('dietaryOther').value,
            accommodation: document.getElementById('accommodation').checked,
            abstractSubmission: document.getElementById('abstractSubmission').checked,
            abstractTitle: document.getElementById('abstractTitle').value,
            abstractContent: document.getElementById('abstractContent').value,
            newsletter: document.getElementById('newsletter').checked
        };
        
        try {
            // Show loading state
            const submitBtn = e.target.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<span class="spinner-border spinner-border-sm me-2"></span>Submitting...';
            
            const response = await fetch('/api/register', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(formData)
            });
            
            const result = await response.json();
            
            if (response.ok) {
                // Show success modal
                document.getElementById('registrationId').textContent = result.registrationId || 'Generated after confirmation';
                const successModal = new bootstrap.Modal(document.getElementById('successModal'));
                successModal.show();
                
                // Reset form
                e.target.reset();
                document.getElementById('abstractFields').style.display = 'none';
                
            } else {
                alert(result.message || 'Registration failed. Please try again.');
            }
            
        } catch (error) {
            console.error('Registration error:', error);
            alert('Network error. Please check your connection and try again.');
        } finally {
            // Reset button state
            const submitBtn = e.target.querySelector('button[type="submit"]');
            submitBtn.disabled = false;
            submitBtn.innerHTML = originalText;
        }
    });
    </script>
</body>
</html>


